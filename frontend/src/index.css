@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,
  body,
  #root {
    height: 100%;
  }

  body {
    @apply font-sans antialiased text-slate-900;
    background: linear-gradient(90deg, hsla(49, 54%, 79%, 1) 0%, hsla(28, 75%, 61%, 1) 100%);
    overflow: hidden;
    position: relative;
  }

  html.dark body {
    @apply text-slate-100;
    background: linear-gradient(90deg, hsla(43, 50%, 60%, 1) 0%, hsla(28, 67%, 48%, 1) 100%);
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    transition: opacity 0.2s ease;
    background: transparent;
    opacity: 0;
  }

  html.dark body::before {
    background: rgba(0, 0, 0, 0.35);
    opacity: 1;
  }

  a {
    @apply text-brand-lilac underline-offset-4 transition-colors duration-150;
  }

  a:hover {
    @apply text-[#b084b8] underline;
  }

  pre {
    @apply rounded-md px-3 py-2 text-sm text-slate-900 shadow-inner;
    background: rgba(221, 213, 106, 0.884);
    color: #111;
  }

  html.dark pre {
    @apply text-slate-100;
    background: #2b2f3a;
  }
}

@layer components {
  .flagged,
  .plain {
    @apply inline-flex items-baseline rounded-sm px-1 text-sm leading-relaxed;
  }

  .flagged {
    border-bottom: 2px solid transparent;
    transition: box-shadow 0.15s ease;
  }

  .flagged:hover {
    box-shadow: inset 0 -0.25em rgba(15, 23, 42, 0.05);
  }

  html.dark .flagged:hover {
    box-shadow: inset 0 -0.25em rgba(255, 255, 255, 0.08);
  }

  .lbl-bad {
    @apply bg-amber-100/80 text-amber-900;
    border-bottom-color: #ffc107;
  }

  .lbl-hate {
    @apply bg-rose-100/70 text-rose-900;
    border-bottom-color: #dc3545;
  }

  .lbl-abuse {
    @apply bg-indigo-100/70 text-indigo-900;
    border-bottom-color: #6f42c1;
  }

  html.dark .lbl-bad {
    @apply bg-amber-200/20 text-amber-100;
    border-bottom-color: #e1b300;
  }

  html.dark .lbl-hate {
    @apply bg-rose-400/20 text-rose-100;
    border-bottom-color: #c33a45;
  }

  html.dark .lbl-abuse {
    @apply bg-indigo-300/20 text-indigo-100;
    border-bottom-color: #8460cf;
  }

  .flag-fly {
    @apply fixed left-0 top-0 z-[2000] whitespace-nowrap rounded-xl border border-slate-200 bg-white px-2 py-1 text-xs font-medium text-slate-700 shadow-2xl opacity-0 transition-opacity duration-75 dark:border-white/10 dark:bg-slate-900 dark:text-slate-100;
    transform: translate(-50%, -100%);
    pointer-events: none;
  }

  .flag-fly.bad {
    border-color: #ffc107;
  }

  .flag-fly.hate {
    border-color: #dc3545;
  }

  .flag-fly.abuse {
    border-color: #6f42c1;
  }

  html.dark .flag-fly.bad {
    border-color: #e1b300;
  }

  html.dark .flag-fly.hate {
    border-color: #c33a45;
  }

  html.dark .flag-fly.abuse {
    border-color: #8460cf;
  }

  .gut-tick {
    font-size: 0.68rem;
    @apply text-right font-semibold text-slate-500 dark:text-slate-400;
  }

  .gut-tick::after {
    content: '';
    position: absolute;
    right: -6px;
    top: 50%;
    width: 6px;
    height: 1px;
    background: rgba(0, 0, 0, 0.2);
  }

  html.dark .gut-tick::after {
    background: rgba(255, 255, 255, 0.25);
  }

  .scroll-shell {
    scrollbar-gutter: stable;
  }

  .scroll-shell::-webkit-scrollbar {
    width: 10px;
  }

  .scroll-shell::-webkit-scrollbar-track {
    background: transparent;
  }

  .scroll-shell::-webkit-scrollbar-thumb {
    @apply rounded-full bg-slate-300/80;
  }

  html.dark .scroll-shell::-webkit-scrollbar-thumb {
    @apply bg-slate-700;
  }
}
